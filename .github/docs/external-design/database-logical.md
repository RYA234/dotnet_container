# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆè«–ç†ï¼‰

## ERå›³

```mermaid
erDiagram
    Users ||--o{ Departments : belongs_to
    Users {
        int Id PK
        string Name
        int DepartmentId FK
        string Email
    }
    Departments {
        int Id PK
        string Name
    }
```

---

## ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä¸€è¦§

### æ•™è‚²ç”¨ï¼ˆSQLiteï¼‰

| No | ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å | è«–ç†å | æ¦‚è¦ |
|----|-------------|--------|------|
| E-01 | Users | ãƒ¦ãƒ¼ã‚¶ãƒ¼ | ãƒ‡ãƒ¢ç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ |
| E-02 | Departments | éƒ¨ç½² | ãƒ‡ãƒ¢ç”¨éƒ¨ç½²ãƒ‡ãƒ¼ã‚¿ |

### åŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆPostgreSQL/Supabaseï¼‰

| No | ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å | è«–ç†å | æ¦‚è¦ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|----|-------------|--------|------|----------|
| E-03 | Products | å•†å“ãƒã‚¹ã‚¿ | å•†å“æƒ…å ± | ğŸš§ æœªå®Ÿè£… |
| E-04 | Inventory | åœ¨åº« | åœ¨åº«æ•°é‡ | ğŸš§ æœªå®Ÿè£… |
| E-05 | Sales | å£²ä¸Š | å£²ä¸Šä¼ç¥¨ | ğŸš§ æœªå®Ÿè£… |
| E-06 | Productions | ç”Ÿç”£è¨ˆç”» | ç”Ÿç”£è¨ˆç”» | ğŸš§ æœªå®Ÿè£… |

---

## ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å®šç¾©

### Usersï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰

**ç”¨é€”**: ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ•™è‚²ç”¨ãƒ‡ãƒ¢ - N+1å•é¡Œ

| ã‚«ãƒ©ãƒ å | å‹ | NULL | åˆ¶ç´„ | èª¬æ˜ |
|---------|-----|------|------|------|
| Id | INT | NOT NULL | PK | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |
| Name | VARCHAR(100) | NOT NULL | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼å |
| DepartmentId | INT | NOT NULL | FK | éƒ¨ç½²ID |
| Email | VARCHAR(255) | NOT NULL | UNIQUE | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ |

**ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**:
- Departments.Id (1å¯¾å¤š)

---

### Departmentsï¼ˆéƒ¨ç½²ï¼‰

**ç”¨é€”**: ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ•™è‚²ç”¨ãƒ‡ãƒ¢ - N+1å•é¡Œ

| ã‚«ãƒ©ãƒ å | å‹ | NULL | åˆ¶ç´„ | èª¬æ˜ |
|---------|-----|------|------|------|
| Id | INT | NOT NULL | PK | éƒ¨ç½²ID |
| Name | VARCHAR(100) | NOT NULL | - | éƒ¨ç½²å |

**ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**:
- Users.DepartmentId (å¤šå¯¾1)

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ†é›¢æˆ¦ç•¥

### æ•™è‚²ç”¨ãƒ‡ãƒ¢: SQLite
- **ç”¨é€”**: ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ•™è‚²ã€ãƒ‡ãƒ¢ã€å­¦ç¿’
- **ç†ç”±**: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸è¦ã€è»½é‡ã€ãƒãƒ¼ã‚¿ãƒ–ãƒ«
- **ãƒ‡ãƒ¼ã‚¿**: Users, Departmentsï¼ˆãƒ‡ãƒ¢ç”¨100ä»¶ï¼‰
- **è©³ç´°**: [ADR-001: SQLiteã‚’æ•™è‚²ç”¨ãƒ‡ãƒ¢ã«æ¡ç”¨](../adr/001-use-sqlite-for-education.md)

### åŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ : PostgreSQL (Supabase)
- **ç”¨é€”**: åœ¨åº«ç®¡ç†ã€è²©å£²ç®¡ç†ã€ç”Ÿç”£ç®¡ç†
- **ç†ç”±**: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€æœ¬ç•ªé‹ç”¨
- **ãƒ‡ãƒ¼ã‚¿**: Products, Inventory, Sales, Productions
- **æ¥ç¶šå…ˆ**: https://jfopjsynoorupqptjlep.supabase.co

---

## å‚è€ƒ

- [ADR-001: SQLiteã‚’æ•™è‚²ç”¨ãƒ‡ãƒ¢ã«æ¡ç”¨](../adr/001-use-sqlite-for-education.md)
- [ADR-002: ORMã‚’ä½¿ã‚ãšç´ ã®SQLã‚’æ¡ç”¨](../adr/002-avoid-orm-use-raw-sql.md)
